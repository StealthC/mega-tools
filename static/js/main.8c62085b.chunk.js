(this["webpackJsonpmega-tools"]=this["webpackJsonpmega-tools"]||[]).push([[0],{17:function(e,t,r){e.exports={Sliders:"SMDColorSelector_Sliders__3ENca",Value:"SMDColorSelector_Value__2Dhvx",ColorInput:"SMDColorSelector_ColorInput__3URPy",R:"SMDColorSelector_R__2SUfS",G:"SMDColorSelector_G__39nqU",B:"SMDColorSelector_B__18YXH"}},49:function(e,t,r){},53:function(e,t,r){},59:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),c=r(15),o=r.n(c),s=(r(49),r(22)),i=(r(53),r(27)),l=r(7),d=r(62),j=r(61),u=r(39),b=r(65),h=function(){return Object(s.b)()},x=s.c,g=r(18),O=0,p=1,m=2,f=[[0,52,87,116,144,172,206,255],[0,29,52,70,87,101,116,130],[130,144,158,172,187,206,228,255],[0,36,72,108,144,180,216,255],[0,18,36,54,72,90,108,126],[126,144,162,180,198,216,234,255]];function v(e){return f[e]}function M(e){return{r:e>>>1&7,g:e>>>5&7,b:e>>>9&7}}function S(e){return e.b<<9|e.g<<5|e.r<<1}function C(e,t){for(var r=0;r<t.length;r+=1)if(t[r]>=e){if(!(r>0))return r;if(e-t[r-1]<t[r]-e)return r-1}return t.length-1}function R(e,t,r){return(1-r)*e+r*t}function _(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f[0],r=M(e);return r.r=t[r.r],r.g=t[r.g],r.b=t[r.b],r.r<<16|r.g<<8|r.b}function y(e,t,r){var n=M(e),a=M(t);return S({r:Math.round(R(n.r,a.r,r)),g:Math.round(R(n.g,a.g,r)),b:Math.round(R(n.b,a.b,r))})}function w(e){var t=e.toString(16);return"#".concat("0".repeat(Math.max(0,6-t.length))).concat(t)}var A={color:0,colorMode:O,gradientStart:0,gradientEnd:3822,gradientSteps:8,gradientMode:O},N=Object(g.c)({name:"palette",initialState:A,reducers:{setColor:function(e,t){e.color=t.payload},setColorMode:function(e,t){e.colorMode=t.payload},setGradientStart:function(e,t){e.gradientStart=t.payload},setGradientEnd:function(e,t){e.gradientEnd=t.payload},setGradientSteps:function(e,t){e.gradientSteps=t.payload},setGradientMode:function(e,t){e.gradientMode=t.payload}}}),V=N.actions,D=V.setColor,k=(V.setColorMode,V.setGradientStart),E=V.setGradientEnd,G=(V.setGradientSteps,V.setGradientMode,function(e){return{color:e.palette.color,colorMode:e.palette.colorMode}}),T=function(e){return{gradientStart:e.palette.gradientStart,gradientEnd:e.palette.gradientEnd,gradientSteps:e.palette.gradientSteps,gradientMode:e.palette.gradientMode}},P=N.reducer,B=r(11),I=r(64),F=r(17),L=r.n(F),Y=r(1);function W(e){return"0x".concat((2*e).toString(16))}function U(e){var t=e.initialColor,r=void 0===t?0:t,a=e.initialBrightnessMode,c=void 0===a?O:a,o=e.disableMode,s=e.onChangeColor,i=Object(n.useState)(r),l=Object(B.a)(i,2),d=l[0],b=l[1],h=Object(n.useState)("0x".concat(r.toString(16))),x=Object(B.a)(h,2),g=x[0],R=x[1],y=Object(n.useState)(c),A=Object(B.a)(y,2),N=A[0],V=A[1],D=M(d),k=D.r,E=D.g,G=D.b,T=Object(n.useRef)(null),P=Object(n.useRef)(null),F=Object(n.useRef)(null),U=w(_(d,v(N))),H=function(){var e,t,r,n=S({r:(null===(e=T.current)||void 0===e?void 0:e.valueAsNumber)||0,g:(null===(t=P.current)||void 0===t?void 0:t.valueAsNumber)||0,b:(null===(r=F.current)||void 0===r?void 0:r.valueAsNumber)||0});R("0x".concat(n.toString(16))),b(n),s&&s(n)};return Object(Y.jsx)("div",{children:Object(Y.jsxs)(j.a,{children:[Object(Y.jsx)(u.a,{xs:2,children:Object(Y.jsx)("div",{className:"border rounded border-2 p-1 h-100",children:Object(Y.jsx)("div",{className:"h-100",style:{backgroundColor:U,width:"100%"},children:"\xa0"})})}),Object(Y.jsxs)(u.a,{children:[Object(Y.jsxs)(I.a.Group,{as:j.a,xs:2,lg:6,children:[o?null:Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(I.a.Label,{column:!0,sm:6,md:3,lg:"auto",children:"Mode:"}),Object(Y.jsx)(u.a,{xs:6,md:3,children:Object(Y.jsxs)(I.a.Select,{defaultValue:N,onChange:function(e){return V(parseInt(e.currentTarget.value))},children:[Object(Y.jsx)("option",{value:O,children:"Normal"}),Object(Y.jsx)("option",{value:p,children:"Shadow"}),Object(Y.jsx)("option",{value:m,children:"Highlight"})]})})]}),Object(Y.jsx)(I.a.Label,{column:!0,xs:6,md:3,lg:"auto",children:"SMD:"}),Object(Y.jsx)(u.a,{xs:6,md:3,lg:"auto",children:Object(Y.jsx)(I.a.Control,{value:g,onChange:function(e){R(e.currentTarget.value);var t=parseInt(e.currentTarget.value);0===(-3823&t)&&(b(t),s&&s(t))}})}),Object(Y.jsxs)(I.a.Label,{column:!0,xs:4,lg:"auto",children:["Picker:"," "]}),Object(Y.jsx)(u.a,{xs:4,children:Object(Y.jsx)(I.a.Control,{type:"color",value:U,onChange:function(e){var t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f[0],r=C(255&e,t),n=C(e>>>8&255,t);return S({r:C(e>>>16&255,t),g:n,b:r})}(parseInt(e.currentTarget.value.substr(1),16),v(N));b(t),R("0x".concat(t.toString(16))),s&&s(t)}})}),Object(Y.jsxs)(I.a.Label,{className:"text-center",column:!0,xs:4,children:["Web: ",U]})]}),Object(Y.jsxs)("div",{className:L.a.Sliders,children:[Object(Y.jsxs)(j.a,{className:L.a.R,children:[Object(Y.jsx)(u.a,{children:Object(Y.jsx)(I.a.Range,{ref:T,min:0,max:7,step:1,value:k,onChange:H})}),Object(Y.jsx)(u.a,{className:L.a.Value,xs:"auto",children:W(k)})]}),Object(Y.jsxs)(j.a,{className:L.a.G,children:[Object(Y.jsx)(u.a,{children:Object(Y.jsx)(I.a.Range,{ref:P,min:0,max:7,step:1,value:E,onChange:H})}),Object(Y.jsx)(u.a,{className:L.a.Value,xs:"auto",children:W(E)})]}),Object(Y.jsxs)(j.a,{className:L.a.B,children:[Object(Y.jsx)(u.a,{children:Object(Y.jsx)(I.a.Range,{ref:F,min:0,max:7,step:1,value:G,onChange:H})}),Object(Y.jsx)(u.a,{className:L.a.Value,xs:"auto",children:W(G)})]})]})]})]})})}function H(){var e=h(),t=x(G),r=t.color,n=t.colorMode;return Object(Y.jsx)(U,{initialColor:r,initialBrightnessMode:n,onChangeColor:function(t){e(D(t))}})}function J(e){var t=e.colors,r=e.mode,n=void 0===r?O:r,a=t.map((function(e){return Object(Y.jsx)("div",{className:"text-center",style:{backgroundColor:w(_(e,v(n)))},children:Object(Y.jsxs)("span",{style:{color:"white",mixBlendMode:"difference"},children:["0x".concat(e.toString(16)),"\xa0"]})})}));return Object(Y.jsx)("div",{className:"border rounded border-2 p-1",children:a})}function q(){var e=x(T),t=e.gradientStart,r=e.gradientEnd,n=e.gradientSteps,a=e.gradientMode,c=function(e,t,r){for(var n=[],a=0;a<r;a+=1){var c=y(e,t,a/(r-1));n.push(c)}return n}(t,r,n),o=h(),s=c.map((function(e){return"0x".concat(e.toString(16))})).join(", ");return Object(Y.jsxs)("div",{children:[Object(Y.jsxs)(j.a,{children:[Object(Y.jsxs)(u.a,{lg:6,className:"pt-2",children:[Object(Y.jsx)("h4",{children:"Starting Color"}),Object(Y.jsx)(U,{initialColor:t,initialBrightnessMode:a,disableMode:!0,onChangeColor:function(e){return o(k(e))}})]}),Object(Y.jsxs)(u.a,{lg:6,className:"pt-2",children:[Object(Y.jsx)("h4",{children:"Ending Color"}),Object(Y.jsx)(U,{initialColor:r,initialBrightnessMode:a,disableMode:!0,onChangeColor:function(e){return o(E(e))}})]})]}),Object(Y.jsxs)(j.a,{children:[Object(Y.jsx)(u.a,{xs:12,md:6,className:"pt-2",children:Object(Y.jsx)(J,{colors:c,mode:a})}),Object(Y.jsx)(u.a,{xs:12,md:6,className:"pt-2",children:Object(Y.jsx)(I.a.Control,{style:{resize:"none"},className:"h-100",as:"textarea",value:s})})]})]})}function z(){return Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)("h3",{children:"Simple Color Selector"}),Object(Y.jsx)(H,{}),Object(Y.jsx)("h3",{className:"pt-4",children:"Gradient Generator"}),Object(Y.jsx)(q,{}),Object(Y.jsxs)("p",{className:"small pt-4",children:["Technical explanation can be found in:",Object(Y.jsxs)("ul",{children:[Object(Y.jsx)("li",{children:Object(Y.jsx)("a",{href:"https://segaretro.org/Sega_Mega_Drive/Palettes_and_CRAM",target:"_blank",rel:"noreferrer",children:"Sega Mega Drive/Palettes and CRAM (Sega Retro)"})}),Object(Y.jsx)("li",{children:Object(Y.jsx)("a",{href:"http://gendev.spritesmind.net/forum/viewtopic.php?t=2188",target:"_blank",rel:"noreferrer",children:"MD VDP color levels (spritesmind.net GenDev Forum, TmEE co.(TM) Post)"})})]})]})]})}var X,$=r(63);function K(e){var t=e.data;return Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)("h3",{children:t.title}),Object(Y.jsx)("dl",{className:"row",children:t.data.map((function(e){return Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)("dt",{className:"col-3 text-end",children:e.key}),Object(Y.jsx)("dd",{className:"col-9",children:e.value})]})}))})]})}!function(e){e[e.VRAM=0]="VRAM",e[e.CRAM=1]="CRAM",e[e.VSRAM=2]="VSRAM",e[e.VRAM_BYTE=3]="VRAM_BYTE"}(X||(X={}));var Q=["VRAM","CRAM","VSRAM","VRAM  (byte)"];function Z(e){var t=function(e){var t=e>>>15|(48&e)>>>4<<1,r=X.CRAM;return 0===t&&(r=X.VRAM),2===t&&(r=X.VSRAM),6===t&&(r=X.VRAM_BYTE),{memorySpace:r,write:0!==(1073741824&e),DMA:0!==(128&e),VRAM2VRAMcp:0!==(64&e),address:(1073676288&e)>>>16|(3&e)<<14}}(e);return{title:"VDP Address Operation",data:[{key:"Memory Space",value:Q[t.memorySpace]},{key:"Operation type",value:t.write?"Write":"Read"},{key:"Address",value:"0x".concat(t.address.toString(16))},{key:"DMA?",value:t.DMA?"Yes":"No"},{key:"VRAM to VRAM copy?",value:t.VRAM2VRAMcp?"Yes":"No"}]}}function ee(){var e=Object(n.useState)("0x0"),t=Object(B.a)(e,2),r=t[0],a=t[1];var c,o=parseInt(r),s={operations:[]},i="";try{s=function(e){var t={operations:[]};if(e>4294967295)throw new Error("The number cannot be larger than longword (4 bytes)");if(e<0)throw new Error("The number need to be positive");if(32768===(32768&e)&&0===(24576&e)){if(t.isRegisterOp=!0,t.operations.push(65535&e),e>65535){if((2147483648&e)>>>0!==2147483648||0!==(1610612736&e))throw new Error("Invalid Operation");t.operations.unshift((4294901760&e)>>>16)}return t}if(0!==(65292&e))throw new Error("Invalid Operation");return t.operations.push(e),t}(o)}catch(l){i=l.message}return i||(c=s.isRegisterOp?s.operations.map((function(e){return e.toString()})):Object(Y.jsx)(K,{data:Z(s.operations[0])})),Object(Y.jsx)(Y.Fragment,{children:Object(Y.jsxs)("div",{children:[Object(Y.jsxs)(I.a.Group,{children:[Object(Y.jsxs)(I.a.Label,{children:["Type number sent to address ",Object(Y.jsx)("mark",{children:"0xc00004"}),' (Control Port of VDP) to see what operation it does. Start with "0x" for hexadecimal.']}),Object(Y.jsx)(u.a,{children:Object(Y.jsx)(I.a.Control,{placeholder:"0x0",value:r,onChange:function(e){a(e.currentTarget.value)}})})]}),i?Object(Y.jsx)($.a,{children:i}):null,c]})})}function te(){return Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(ee,{}),Object(Y.jsxs)("p",{className:"small pt-4",children:["Technical explanation can be found in:",Object(Y.jsxs)("ul",{children:[Object(Y.jsx)("li",{children:Object(Y.jsx)("a",{href:"https://segaretro.org/Sega_Mega_Drive/VDP_registers",target:"_blank",rel:"noreferrer",children:"Sega Mega Drive/VDP registers (Sega Retro)"})}),Object(Y.jsx)("li",{children:Object(Y.jsx)("a",{href:"https://segaretro.org/Sega_Mega_Drive/VDP_general_usage",target:"_blank",rel:"noreferrer",children:"Sega Mega Drive/VDP general usage (Sega Retro)"})})]})]})]})}var re=function(){return Object(Y.jsxs)(d.a,{children:[Object(Y.jsxs)(j.a,{children:[Object(Y.jsxs)(u.a,{children:[Object(Y.jsx)("h1",{children:"Mega Tools"}),Object(Y.jsx)("p",{className:"pb-2",children:"Some tools to help learning Sega Genesis/Mega Drive development."})]}),Object(Y.jsx)(u.a,{xs:"auto",children:Object(Y.jsx)("a",{href:"https://github.com/StealthC/mega-tools",target:"_blank",rel:"noreferrer",children:"View on Github"})})]}),Object(Y.jsxs)(i.a,{children:[Object(Y.jsxs)(b.a,{variant:"tabs",children:[Object(Y.jsx)(b.a.Item,{children:Object(Y.jsx)(b.a.Link,{as:i.b,to:"/colors",children:"SMD Colors"})}),Object(Y.jsx)(b.a.Item,{children:Object(Y.jsx)(b.a.Link,{as:i.b,to:"/vdpcontrol",children:"VDP Control Port"})})]}),Object(Y.jsx)("div",{className:"py-4",children:Object(Y.jsxs)(l.d,{children:[Object(Y.jsx)(l.b,{path:"/colors",children:Object(Y.jsx)(z,{})}),Object(Y.jsx)(l.b,{path:"/vdpcontrol",children:Object(Y.jsx)(te,{})}),Object(Y.jsx)(l.b,{path:"/",children:Object(Y.jsx)(l.a,{to:"/colors"})})]})})]}),Object(Y.jsxs)("p",{className:"pt-4 text-center small",children:["If you like this project and want to help me to create more,"," ",Object(Y.jsx)("a",{href:"https://www.patreon.com/stealthc",target:"_blank",rel:"noreferrer",children:"please consider being my patron"}),"."]})]})},ne=r(34),ae=r.n(ne),ce=r(44);function oe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return new Promise((function(t){return setTimeout((function(){return t({data:e})}),500)}))}var se=Object(g.b)("counter/fetchCount",function(){var e=Object(ce.a)(ae.a.mark((function e(t){var r;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oe(t);case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),ie=Object(g.c)({name:"counter",initialState:{value:0,status:"idle"},reducers:{increment:function(e){e.value+=1},decrement:function(e){e.value-=1},incrementByAmount:function(e,t){e.value+=t.payload}},extraReducers:function(e){e.addCase(se.pending,(function(e){e.status="loading"})).addCase(se.fulfilled,(function(e,t){e.status="idle",e.value+=t.payload}))}}),le=ie.actions,de=(le.increment,le.decrement,le.incrementByAmount,ie.reducer),je=Object(g.a)({reducer:{counter:de,palette:P}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(Object(Y.jsx)(a.a.StrictMode,{children:Object(Y.jsx)(s.a,{store:je,children:Object(Y.jsx)(re,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[59,1,2]]]);
//# sourceMappingURL=main.8c62085b.chunk.js.map