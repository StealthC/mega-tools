{"version":3,"sources":["features/palette/SMDColorSelector.module.scss","app/hooks.ts","utils/smdColors.ts","features/palette/paletteSlice.ts","features/palette/SMDColorSelector.tsx","ColorsSelector.tsx","features/palette/SMDPaletteColors.tsx","Gradient.tsx","ColorsPage.tsx","utils/vdp.ts","features/vdp-analysis/AnalysisPrint.tsx","features/vdp-analysis/VDPAnalysis.tsx","features/vdp-analysis/ControlOp.tsx","VDPControl.tsx","App.tsx","features/counter/counterAPI.ts","features/counter/counterSlice.ts","app/store.ts","serviceWorker.ts","index.tsx"],"names":["module","exports","useAppDispatch","useDispatch","useAppSelector","useSelector","BrightnessMode","BrightnessModeIndex","selectMode","index","isValid","smdColor","getBits","r","g","b","getColorFromBits","colorBits","convertByteToIndex","byte","byteTable","i","length","lerp","start","end","pos","convertSMDTo24Bit","brightness","bits","gradientPosition","from","to","position","fromBits","toBits","Math","round","convert24BitsToWeb","color","colorString","toString","repeat","max","initialState","colorMode","gradientStart","gradientEnd","gradientSteps","gradientMode","paletteSlice","createSlice","name","reducers","setColor","state","action","payload","setColorMode","setGradientStart","setGradientEnd","setGradientSteps","setGradientMode","actions","getColor","palette","getGradient","formatBitHex","n","SMDColorSelector","initialColor","initialBrightnessMode","disableMode","onChangeColor","useState","colorInput","setColorInput","mode","setMode","rSlider","useRef","gSlider","bSlider","webColor","rgbChange","newColor","current","valueAsNumber","Row","Col","xs","className","style","backgroundColor","width","Form","Group","as","lg","Label","column","sm","md","Select","defaultValue","onChange","ev","parseInt","currentTarget","value","Control","type","B32Color","convert24BitToSMD","substr","styles","Sliders","R","Range","ref","min","step","Value","G","B","ColorSelector","dispatch","ncolor","SMDPaletteColors","colors","inline","elements","map","classNames","mixBlendMode","Gradient","gradientColors","steps","gradient","push","generateGradient","gradientText","join","resize","ColorsPage","href","target","rel","DMASourceOp","MemorySpace","AnalysisPrint","data","title","v","key","MemorySpaceStrings","getAddressOpAnalysis","op","values","msn","memorySpace","UNKNOWN","CRAM","VRAM","VSRAM","VRAM_BYTE","write","DMA","VRAM2VRAMcp","address","getControlAddressValues","registerStrings","DMAOpStrings","getRegisterOpAnalysis","register","registerString","clearLeftmost8pixels","enableHorizontalInterrupt","stopHVCounter","displayEnabled","useAllcolorBits","getModeRegister1Values","concat","use128kbVRAM","enableVerticalInterrupt","enableDMA","PALMode","MDMode","getModeRegister2Values","paletteLine","colorIndex","getBackgroundColorValues","str","opb","highBytes","DMAOp","m68kToVRAM","VRAM_FILL","VRAM_TO_VRAM","getDMASource3Values","ControlOp","opcodeText","setOpcodeText","opcode","result","operations","error","Number","isNaN","Error","isRegisterOp","unshift","interpretControlOperation","e","message","placeholder","Alert","VDPControl","App","Container","Nav","variant","Item","Link","NavLink","path","fetchCount","amount","Promise","resolve","setTimeout","incrementAsync","createAsyncThunk","a","response","counterSlice","status","increment","decrement","incrementByAmount","extraReducers","builder","addCase","pending","fulfilled","store","configureStore","reducer","counter","counterReducer","paletteReducer","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","console"],"mappings":"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","file":"static/js/main.120f0919.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Sliders\":\"SMDColorSelector_Sliders__3ENca\",\"Value\":\"SMDColorSelector_Value__2Dhvx\",\"ColorInput\":\"SMDColorSelector_ColorInput__3URPy\",\"R\":\"SMDColorSelector_R__2SUfS\",\"G\":\"SMDColorSelector_G__39nqU\",\"B\":\"SMDColorSelector_B__18YXH\"};","import { TypedUseSelectorHook, useDispatch, useSelector } from 'react-redux';\nimport type { RootState, AppDispatch } from './store';\n\n// Use throughout your app instead of plain `useDispatch` and `useSelector`\nexport const useAppDispatch = () => useDispatch<AppDispatch>();\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector;\n","// Got the correct values from http://gendev.spritesmind.net/forum/viewtopic.php?t=2188\n\nexport const BrightnessMode = {\n  normal: 0,\n  shadow: 1,\n  highlight: 2,\n  linearNormal: 3,\n  linearShadow: 4,\n  linearHighlight: 5,\n};\n\nexport const BrightnessModeIndex = [\n  [0, 52, 87, 116, 144, 172, 206, 255],\n  [0, 29, 52, 70, 87, 101, 116, 130],\n  [130, 144, 158, 172, 187, 206, 228, 255],\n  [0, 36, 72, 108, 144, 180, 216, 255],\n  [0, 18, 36, 54, 72, 90, 108, 126],\n  [126, 144, 162, 180, 198, 216, 234, 255],\n];\n\nexport function selectMode(index: number) {\n  return BrightnessModeIndex[index];\n}\n\nexport interface ColorBits {\n  r: number;\n  g: number;\n  b: number;\n}\n\nexport function isValid(smdColor: number): boolean {\n  return (smdColor & ~0xeee) === 0;\n}\n\nexport function getBits(smdColor: number): ColorBits {\n  const r = (smdColor >>> 1) & 7;\n  const g = (smdColor >>> 5) & 7;\n  const b = (smdColor >>> 9) & 7;\n  return { r, g, b };\n}\n\nexport function getColorFromBits(colorBits: ColorBits): number {\n  return (colorBits.b << 9) | (colorBits.g << 5) | (colorBits.r << 1);\n}\n\nexport function convertByteToIndex(byte: number, byteTable: number[]): number {\n  for (let i = 0; i < byteTable.length; i += 1) {\n    if (byteTable[i] >= byte) {\n      if (i > 0) {\n        if (byte - byteTable[i - 1] < byteTable[i] - byte) {\n          return i - 1;\n        }\n      } else {\n        return i;\n      }\n    }\n  }\n  return byteTable.length - 1;\n}\n\nfunction lerp(start: number, end: number, pos: number) {\n  return (1 - pos) * start + pos * end;\n}\n\nexport function convert24BitToSMD(\n  B32Color: number,\n  brightness = BrightnessModeIndex[0],\n): number {\n  const b = convertByteToIndex(B32Color & 0xff, brightness);\n  const g = convertByteToIndex((B32Color >>> 8) & 0xff, brightness);\n  const r = convertByteToIndex((B32Color >>> 16) & 0xff, brightness);\n  return getColorFromBits({ r, g, b });\n}\n\nexport function convertSMDTo24Bit(\n  smdColor: number,\n  brightness = BrightnessModeIndex[0],\n): number {\n  const bits = getBits(smdColor);\n  bits.r = brightness[bits.r];\n  bits.g = brightness[bits.g];\n  bits.b = brightness[bits.b];\n  return (bits.r << 16) | (bits.g << 8) | bits.b;\n}\n\nexport function gradientPosition(\n  from: number,\n  to: number,\n  position: number,\n): number {\n  const fromBits = getBits(from);\n  const toBits = getBits(to);\n  const resultBits = {\n    r: Math.round(lerp(fromBits.r, toBits.r, position)),\n    g: Math.round(lerp(fromBits.g, toBits.g, position)),\n    b: Math.round(lerp(fromBits.b, toBits.b, position)),\n  };\n\n  return getColorFromBits(resultBits);\n}\n\nexport function generateGradient(\n  from: number,\n  to: number,\n  steps: number,\n): number[] {\n  const gradient = [];\n  for (let i = 0; i < steps; i += 1) {\n    const color = gradientPosition(from, to, i / (steps - 1));\n    gradient.push(color);\n  }\n  return gradient;\n}\n\nexport function convert24BitsToWeb(color: number) {\n  const colorString = color.toString(16);\n  return `#${'0'.repeat(Math.max(0, 6 - colorString.length))}${colorString}`;\n}\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\nimport { RootState } from '../../app/store';\nimport { BrightnessMode } from '../../utils/smdColors';\n\nexport interface PaletteState {\n  color: number;\n  colorMode: number;\n  gradientStart: number;\n  gradientEnd: number;\n  gradientSteps: number;\n  gradientMode: number;\n}\n\nconst initialState: PaletteState = {\n  color: 0,\n  colorMode: BrightnessMode.normal,\n  gradientStart: 0,\n  gradientEnd: 0xeee,\n  gradientSteps: 8,\n  gradientMode: BrightnessMode.normal,\n};\n\nexport const paletteSlice = createSlice({\n  name: 'palette',\n  initialState,\n  // The `reducers` field lets us define reducers and generate associated actions\n  reducers: {\n    setColor: (state, action: PayloadAction<number>) => {\n      state.color = action.payload;\n    },\n    setColorMode: (state, action: PayloadAction<number>) => {\n      state.colorMode = action.payload;\n    },\n    setGradientStart: (state, action: PayloadAction<number>) => {\n      state.gradientStart = action.payload;\n    },\n    setGradientEnd: (state, action: PayloadAction<number>) => {\n      state.gradientEnd = action.payload;\n    },\n    setGradientSteps: (state, action: PayloadAction<number>) => {\n      state.gradientSteps = action.payload;\n    },\n    setGradientMode: (state, action: PayloadAction<number>) => {\n      state.gradientMode = action.payload;\n    },\n  },\n});\n\nexport const {\n  setColor,\n  setColorMode,\n  setGradientStart,\n  setGradientEnd,\n  setGradientSteps,\n  setGradientMode,\n} = paletteSlice.actions;\n\n// The function below is called a selector and allows us to select a value from\n// the state. Selectors can also be defined inline where they're used instead of\n// in the slice file. For example: `useSelector((state: RootState) => state.palette.value)`\nexport const getColor = (state: RootState) => ({\n  color: state.palette.color,\n  colorMode: state.palette.colorMode,\n});\nexport const getGradient = (state: RootState) => ({\n  gradientStart: state.palette.gradientStart,\n  gradientEnd: state.palette.gradientEnd,\n  gradientSteps: state.palette.gradientSteps,\n  gradientMode: state.palette.gradientMode,\n});\n\nexport default paletteSlice.reducer;\n","import React, { useRef, useState } from 'react';\nimport { Row, Col, Form } from 'react-bootstrap';\nimport {\n  BrightnessMode,\n  convert24BitsToWeb,\n  convert24BitToSMD,\n  convertSMDTo24Bit,\n  getBits,\n  getColorFromBits,\n  isValid,\n  selectMode,\n} from '../../utils/smdColors';\nimport styles from './SMDColorSelector.module.scss';\n\nexport interface SMDColorSelectorProps {\n  initialColor?: number;\n  initialBrightnessMode?: number;\n  disableMode?: boolean;\n  onChangeColor?: (color: number) => void;\n}\n\nfunction formatBitHex(n: number) {\n  return `0x${(n * 2).toString(16)}`;\n}\n\nexport function SMDColorSelector({\n  initialColor = 0x0,\n  initialBrightnessMode = BrightnessMode.normal,\n  disableMode,\n  onChangeColor,\n}: SMDColorSelectorProps): JSX.Element {\n  const [color, setColor] = useState(initialColor);\n  const [colorInput, setColorInput] = useState(\n    `0x${initialColor.toString(16)}`,\n  );\n  const [mode, setMode] = useState(initialBrightnessMode);\n  const { r, g, b } = getBits(color);\n  const rSlider = useRef<HTMLInputElement>(null);\n  const gSlider = useRef<HTMLInputElement>(null);\n  const bSlider = useRef<HTMLInputElement>(null);\n  const b24Color = convertSMDTo24Bit(color, selectMode(mode));\n  const webColor = convert24BitsToWeb(b24Color);\n  const rgbChange = () => {\n    const newColor = getColorFromBits({\n      r: rSlider.current?.valueAsNumber || 0,\n      g: gSlider.current?.valueAsNumber || 0,\n      b: bSlider.current?.valueAsNumber || 0,\n    });\n    setColorInput(`0x${newColor.toString(16)}`);\n    setColor(newColor);\n    if (onChangeColor) {\n      onChangeColor(newColor);\n    }\n  };\n  const webColorChange = (ev: React.ChangeEvent<HTMLInputElement>) => {\n    const n = convert24BitToSMD(\n      parseInt(ev.currentTarget.value.substr(1), 16),\n      selectMode(mode),\n    );\n    setColor(n);\n    setColorInput(`0x${n.toString(16)}`);\n    if (onChangeColor) {\n      onChangeColor(n);\n    }\n  };\n  const colorInputChange = (ev: React.ChangeEvent<HTMLInputElement>) => {\n    setColorInput(ev.currentTarget.value);\n    const n = parseInt(ev.currentTarget.value);\n    if (isValid(n)) {\n      setColor(n);\n      if (onChangeColor) {\n        onChangeColor(n);\n      }\n    }\n  };\n  return (\n    <div>\n      <Row>\n        <Col xs={2}>\n          <div className=\"border rounded border-2 p-1 h-100\">\n            <div\n              className=\"h-100\"\n              style={{\n                backgroundColor: webColor,\n                width: '100%',\n              }}\n            >\n              &nbsp;\n            </div>\n          </div>\n        </Col>\n        <Col>\n          <Form.Group as={Row} xs={2} lg={6}>\n            {disableMode ? null : (\n              <>\n                <Form.Label column sm={6} md={3} lg=\"auto\">\n                  Mode:\n                </Form.Label>\n                <Col xs={6} md={3}>\n                  <Form.Select\n                    defaultValue={mode}\n                    onChange={(ev) => setMode(parseInt(ev.currentTarget.value))}\n                  >\n                    <option value={BrightnessMode.normal}>Normal</option>\n                    <option value={BrightnessMode.shadow}>Shadow</option>\n                    <option value={BrightnessMode.highlight}>Highlight</option>\n                  </Form.Select>\n                </Col>\n              </>\n            )}\n\n            <Form.Label column xs={6} md={3} lg=\"auto\">\n              SMD:\n            </Form.Label>\n            <Col xs={6} md={3} lg=\"auto\">\n              <Form.Control value={colorInput} onChange={colorInputChange} />\n            </Col>\n\n            <Form.Label column xs={4} lg=\"auto\">\n              Picker:{' '}\n            </Form.Label>\n            <Col xs={4}>\n              <Form.Control\n                type=\"color\"\n                value={webColor}\n                onChange={webColorChange}\n              />\n            </Col>\n            <Form.Label className=\"text-center\" column xs={4}>\n              Web: {webColor}\n            </Form.Label>\n          </Form.Group>\n\n          <div className={styles.Sliders}>\n            <Row className={styles.R}>\n              <Col>\n                <Form.Range\n                  ref={rSlider}\n                  min={0}\n                  max={7}\n                  step={1}\n                  value={r}\n                  onChange={rgbChange}\n                />\n              </Col>\n              <Col className={styles.Value} xs=\"auto\">\n                {formatBitHex(r)}\n              </Col>\n            </Row>\n            <Row className={styles.G}>\n              <Col>\n                <Form.Range\n                  ref={gSlider}\n                  min={0}\n                  max={7}\n                  step={1}\n                  value={g}\n                  onChange={rgbChange}\n                />\n              </Col>\n              <Col className={styles.Value} xs=\"auto\">\n                {formatBitHex(g)}\n              </Col>\n            </Row>\n            <Row className={styles.B}>\n              <Col>\n                <Form.Range\n                  ref={bSlider}\n                  min={0}\n                  max={7}\n                  step={1}\n                  value={b}\n                  onChange={rgbChange}\n                />\n              </Col>\n              <Col className={styles.Value} xs=\"auto\">\n                {formatBitHex(b)}\n              </Col>\n            </Row>\n          </div>\n        </Col>\n      </Row>\n    </div>\n  );\n}\n","import React from 'react';\nimport { useAppDispatch, useAppSelector } from './app/hooks';\nimport { getColor, setColor } from './features/palette/paletteSlice';\nimport { SMDColorSelector } from './features/palette/SMDColorSelector';\n\nexport function ColorSelector(): JSX.Element {\n  const dispatch = useAppDispatch();\n  const { color, colorMode } = useAppSelector(getColor);\n  const onChangeColor = (ncolor: number) => {\n    dispatch(setColor(ncolor));\n  };\n  return (\n    <SMDColorSelector\n      initialColor={color}\n      initialBrightnessMode={colorMode}\n      onChangeColor={onChangeColor}\n    />\n  );\n}\n","import classNames from 'classnames';\nimport React from 'react';\nimport {\n  BrightnessMode,\n  convert24BitsToWeb,\n  convertSMDTo24Bit,\n  isValid,\n  selectMode,\n} from '../../utils/smdColors';\n\nexport interface SMDPaletteColors {\n  colors: number[];\n  inline?: boolean;\n  mode?: number;\n}\n\nexport function SMDPaletteColors({\n  colors,\n  mode = BrightnessMode.normal,\n  inline = false,\n}: SMDPaletteColors): JSX.Element {\n  const elements = colors.map((color) => (\n    <div\n      className={classNames('text-center px-4 d-inline', {\n        'd-inline': inline,\n        'd-block': !inline,\n      })}\n      style={{\n        backgroundColor: isValid(color)\n          ? convert24BitsToWeb(convertSMDTo24Bit(color, selectMode(mode)))\n          : 'none',\n      }}\n    >\n      <span style={{ color: 'white', mixBlendMode: 'difference' }}>\n        {`0x${color.toString(16)}`}\n        {isValid(color) ? null : ' (Invalid)'}&nbsp;\n      </span>\n    </div>\n  ));\n  return (\n    <div\n      className={classNames('border rounded border-2 p-1 d-inline', {\n        'd-inline': inline,\n        'd-block': !inline,\n      })}\n    >\n      {elements}\n    </div>\n  );\n}\n","import React from 'react';\nimport { Col, Form, Row } from 'react-bootstrap';\nimport { useAppDispatch, useAppSelector } from './app/hooks';\nimport {\n  getGradient,\n  setGradientEnd,\n  setGradientStart,\n} from './features/palette/paletteSlice';\nimport { generateGradient } from './utils/smdColors';\nimport { SMDColorSelector } from './features/palette/SMDColorSelector';\nimport { SMDPaletteColors } from './features/palette/SMDPaletteColors';\n\nexport function Gradient(): JSX.Element {\n  const { gradientStart, gradientEnd, gradientSteps, gradientMode } =\n    useAppSelector(getGradient);\n  const gradientColors = generateGradient(\n    gradientStart,\n    gradientEnd,\n    gradientSteps,\n  );\n  const dispatch = useAppDispatch();\n  const gradientText = gradientColors\n    .map((color) => `0x${color.toString(16)}`)\n    .join(', ');\n  return (\n    <div>\n      <Row>\n        <Col lg={6} className=\"pt-2\">\n          <h4>Starting Color</h4>\n          <SMDColorSelector\n            initialColor={gradientStart}\n            initialBrightnessMode={gradientMode}\n            disableMode\n            onChangeColor={(color) => dispatch(setGradientStart(color))}\n          />\n        </Col>\n        <Col lg={6} className=\"pt-2\">\n          <h4>Ending Color</h4>\n          <SMDColorSelector\n            initialColor={gradientEnd}\n            initialBrightnessMode={gradientMode}\n            disableMode\n            onChangeColor={(color) => dispatch(setGradientEnd(color))}\n          />\n        </Col>\n      </Row>\n      <Row>\n        <Col xs={12} md={6} className=\"pt-2\">\n          <SMDPaletteColors colors={gradientColors} mode={gradientMode} />\n        </Col>\n        <Col xs={12} md={6} className=\"pt-2\">\n          <Form.Control\n            style={{ resize: 'none' }}\n            className=\"h-100\"\n            as=\"textarea\"\n            value={gradientText}\n          />\n        </Col>\n      </Row>\n    </div>\n  );\n}\n","import React from 'react';\nimport { ColorSelector } from './ColorsSelector';\nimport { Gradient } from './Gradient';\n\nexport function ColorsPage(): JSX.Element {\n  return (\n    <>\n      <h3>Simple Color Selector</h3>\n      <ColorSelector />\n      <h3 className=\"pt-4\">Gradient Generator</h3>\n      <Gradient />\n      <p className=\"small pt-4\">\n        Technical explanations can be found on:\n        <ul>\n          <li>\n            <a\n              href=\"https://segaretro.org/Sega_Mega_Drive/Palettes_and_CRAM\"\n              target=\"_blank\"\n              rel=\"noreferrer\"\n            >\n              Sega Mega Drive/Palettes and CRAM (Sega Retro)\n            </a>\n          </li>\n          <li>\n            <a\n              href=\"http://gendev.spritesmind.net/forum/viewtopic.php?t=2188\"\n              target=\"_blank\"\n              rel=\"noreferrer\"\n            >\n              MD VDP color levels (spritesmind.net GenDev Forum, TmEE co.(TM)\n              Post)\n            </a>\n          </li>\n        </ul>\n      </p>\n    </>\n  );\n}\n","// Mode Register 1\nexport interface ModeRegister1Values {\n  clearLeftmost8pixels: boolean;\n  enableHorizontalInterrupt: boolean;\n  useAllcolorBits: boolean;\n  stopHVCounter: boolean;\n  displayEnabled: boolean;\n}\n\nexport function getModeRegister1Values(n: number): ModeRegister1Values {\n  return {\n    clearLeftmost8pixels: (n & 0x20) !== 0,\n    enableHorizontalInterrupt: (n & 0x10) !== 0,\n    stopHVCounter: (n & 2) !== 0,\n    displayEnabled: (n & 1) !== 0,\n    useAllcolorBits: (n & 0b100) !== 0,\n  };\n}\n\nexport function setModeRegister1Byte(v: ModeRegister1Values): number {\n  let n = 4;\n  if (v.displayEnabled) n |= 1;\n  if (v.stopHVCounter) n |= 2;\n  if (v.enableHorizontalInterrupt) n |= 0x10;\n  if (v.clearLeftmost8pixels) n |= 0x20;\n  if (v.useAllcolorBits) n |= 0b100;\n  return n;\n}\n\nexport interface ModeRegister2Values {\n  use128kbVRAM: boolean;\n  displayEnabled: boolean;\n  enableVerticalInterrupt: boolean;\n  enableDMA: boolean;\n  PALMode: boolean;\n  MDMode: boolean;\n}\n\nexport function getModeRegister2Values(n: number): ModeRegister2Values {\n  return {\n    use128kbVRAM: (0b10000000 & n) !== 0,\n    displayEnabled: (0b1000000 & n) !== 0,\n    enableVerticalInterrupt: (0b100000 & n) !== 0,\n    enableDMA: (0b10000 & n) !== 0,\n    PALMode: (0b1000 & n) !== 0,\n    MDMode: (0b100 & n) !== 0,\n  };\n}\n\nexport interface BackgroundColorValues {\n  paletteLine: number;\n  colorIndex: number;\n}\n\nexport function getBackgroundColorValues(n: number): BackgroundColorValues {\n  return {\n    paletteLine: (n & 0b110000) >>> 4,\n    colorIndex: (n & 0b1111) >>> 0,\n  };\n}\n\nexport enum DMASourceOp {\n  m68kToVRAM = 0,\n  VRAM_FILL = 1,\n  VRAM_TO_VRAM = 2,\n}\nexport interface DMASource3Values {\n  highBytes: number;\n  DMAOp: DMASourceOp;\n}\n\nexport function getDMASource3Values(n: number): DMASource3Values {\n  const opb = (0b11000000 & n) >> 6;\n  const r = {\n    highBytes: (0b111111 & n) >>> 0,\n    DMAOp: DMASourceOp.m68kToVRAM,\n  };\n  if (opb === 0b10) {\n    r.DMAOp = DMASourceOp.VRAM_FILL;\n  } else if (opb === 0b11) {\n    r.DMAOp = DMASourceOp.VRAM_TO_VRAM;\n  } else {\n    r.highBytes = (0b1111111 & n) >>> 0;\n  }\n  return r;\n}\n\n// Interpret Register Write\n\nexport function getRegisterWordValues(n: number): RegisterWriteControlValues {\n  return { register: (n & 0x1f00) >> 8, value: n & 0xff };\n}\n\nexport function createModeRegisterWord(v: RegisterWriteControlValues): number {\n  return ((v.register | 0x80) << 8) | v.value;\n}\n\nexport enum MemorySpace {\n  UNKNOWN = 0,\n  VRAM = 1,\n  CRAM = 2,\n  VSRAM = 4,\n  VRAM_BYTE = 5,\n}\n\nexport interface RegisterWriteControlValues {\n  register: number;\n  value: number;\n}\n\nexport interface AddressControlValues {\n  memorySpace: MemorySpace;\n  write: boolean;\n  address: number;\n  VRAM2VRAMcp: boolean;\n  DMA: boolean;\n}\n\nexport interface OperationResult {\n  isRegisterOp?: boolean;\n  operations: number[];\n}\n\nexport function interpretControlOperation(n: number): OperationResult {\n  const r: OperationResult = {\n    operations: [],\n  };\n  if (Number.isNaN(n)) {\n    throw new Error('Please type a number.');\n  }\n  if (n > 0xffffffff) {\n    throw new Error('The number cannot be larger than longword (4 bytes)');\n  }\n  if (n < 0) {\n    throw new Error('The number need to be positive');\n  }\n  if ((n & 0x8000) === 0x8000 && (n & 0x6000) === 0) {\n    r.isRegisterOp = true;\n    r.operations.push(n & 0xffff);\n    if (n > 0xffff) {\n      if ((n & 0x80000000) >>> 0 === 0x80000000 && (n & 0x60000000) === 0) {\n        // It is two register operations\n        r.operations.unshift((n & 0xffff0000) >>> 16);\n      } else {\n        throw new Error('Invalid Operation');\n      }\n    }\n    return r;\n  }\n  if ((n & 0xff0c) !== 0) {\n    // There's a error\n    throw new Error('Invalid Operation');\n  }\n  // It is a address manipulation\n  r.operations.push(n);\n  return r;\n}\n\nexport function getControlAddressValues(n: number): AddressControlValues {\n  const msn = ((n & 0x80000000) >>> 31) | ((0b110000 & n) >>> 3);\n  let memorySpace = MemorySpace.UNKNOWN;\n  if (msn === 0b100 || msn === 0b001) memorySpace = MemorySpace.CRAM;\n  if (msn === 0b000) memorySpace = MemorySpace.VRAM;\n  if (msn === 0b010) memorySpace = MemorySpace.VSRAM;\n  if (msn === 0b110) memorySpace = MemorySpace.VRAM_BYTE;\n  return {\n    memorySpace,\n    write: (n & 0x40000000) !== 0,\n    DMA: (n & 0x80) !== 0,\n    VRAM2VRAMcp: (n & 0x40) !== 0,\n    address: ((0x3fff0000 & n) >>> 16) | ((0b11 & n) << 14),\n  };\n}\n","import React from 'react';\nimport { AnalysisData } from './VDPAnalysis';\n\nexport interface AnalysisPrintData {\n  data: AnalysisData;\n}\n\nexport function AnalysisPrint({ data }: AnalysisPrintData): JSX.Element {\n  return (\n    <>\n      <h3 className=\"text-center\">{data.title}</h3>\n      <dl className=\"row\">\n        {data.data.map((v) => (\n          <>\n            <dt className=\"col col-6 text-end\">{v.key}</dt>\n            <dd className=\"col col-6\">{v.value}</dd>\n          </>\n        ))}\n      </dl>\n    </>\n  );\n}\n","import {\n  getBackgroundColorValues,\n  getControlAddressValues,\n  getDMASource3Values,\n  getModeRegister1Values,\n  getModeRegister2Values,\n  getRegisterWordValues,\n} from '../../utils/vdp';\n\nexport type AnalysisData = {\n  title: string;\n  data: { key: string | JSX.Element; value: string | JSX.Element }[];\n};\nexport const MemorySpaceStrings = [\n  'UNKNOWN',\n  'VRAM',\n  'CRAM',\n  'VSRAM',\n  'VRAM  (byte)',\n];\n\nexport function getAddressOpAnalysis(op: number): AnalysisData {\n  const values = getControlAddressValues(op);\n  return {\n    title: `0x${op.toString(16)} - VDP Address Operation`,\n    data: [\n      { key: 'Memory Space', value: MemorySpaceStrings[values.memorySpace] },\n      { key: 'Operation type', value: values.write ? 'Write' : 'Read' },\n      { key: 'Address', value: `0x${values.address.toString(16)}` },\n      { key: 'DMA?', value: values.DMA ? 'Yes' : 'No' },\n      { key: 'VRAM to VRAM copy?', value: values.VRAM2VRAMcp ? 'Yes' : 'No' },\n    ],\n  };\n}\n\nexport const registerStrings = [\n  'Mode Register 1',\n  'Mode Register 2',\n  'Plane A Name Table Location',\n  'Window Name Table Location',\n  'Plane B Name Table Location',\n  'Sprite Table Location',\n  'Sprite Table Location (in 128kB VRAM)',\n  'Background Colour',\n  'Unused',\n  'Unused',\n  'Horizontal Interrupt Counter',\n  'Mode Register 3',\n  'Mode Register 4',\n  'Horizontal Scroll Data Location',\n  'Plane A & B Address (in 128kB VRAM)',\n  'Auto-Increment Value',\n  'Plane Size',\n  'Window Plane Horizontal Position',\n  'Window Plane Vertical Position',\n  'DMA Length',\n  'DMA Length',\n  'DMA Source',\n  'DMA Source',\n  'DMA Source',\n];\n\nexport const DMAOpStrings = [\n  '64K to VRAM',\n  'VRAM Fill (source can be left blank)',\n  'VRAM to VRAM copy',\n];\n\nexport function getRegisterOpAnalysis(op: number): AnalysisData {\n  const { register, value } = getRegisterWordValues(op);\n  const registerString =\n    register > 0x17 ? 'Invalid Register Number' : registerStrings[register];\n  const r: AnalysisData = {\n    title: `0x${op.toString(16)} - VDP Register Operation`,\n    data: [\n      {\n        key: 'Register',\n        value: `0x${register.toString(16)} - ${registerString}`,\n      },\n      { key: 'Value', value: `0x${value.toString(16)}` },\n    ],\n  };\n  if (register === 0x0) {\n    const values = getModeRegister1Values(value);\n    r.data = r.data.concat([\n      {\n        key: 'Clear leftmost 8 pixels?',\n        value: values.clearLeftmost8pixels\n          ? 'Yes (clear with Background color)'\n          : 'No',\n      },\n      {\n        key: 'Enable Horizontal Interrupt?',\n        value: values.enableHorizontalInterrupt ? 'Yes' : 'No',\n      },\n      {\n        key: 'Use all color bits?',\n        value: values.useAllcolorBits ? 'Yes' : 'No (use only the LSB)',\n      },\n      {\n        key: 'Freeze H/V Counter?',\n        value: values.stopHVCounter ? 'Yes' : 'No',\n      },\n      {\n        key: 'Enable display (used only for CSYNC)?',\n        value: values.displayEnabled ? 'Yes' : 'No',\n      },\n    ]);\n  } else if (register === 0x1) {\n    const values = getModeRegister2Values(value);\n    r.data = r.data.concat([\n      {\n        key: 'Use 128kB of VRAM?',\n        value: values.use128kbVRAM ? 'Yes' : 'No',\n      },\n      {\n        key: 'Enable Display?',\n        value: values.displayEnabled\n          ? 'Yes'\n          : 'No (fill with background color)',\n      },\n      {\n        key: 'Enable Vertical Interrupt?',\n        value: values.enableVerticalInterrupt ? 'Yes' : 'No',\n      },\n      {\n        key: 'Enable DMA?',\n        value: values.enableDMA ? 'Yes' : 'No',\n      },\n      {\n        key: 'PAL Mode (240 pixels - 30 cell)?',\n        value: values.PALMode ? 'Yes' : 'No (224 pixel - 28 cell)',\n      },\n      {\n        key: 'Mega Drive (mode 5)?',\n        value: values.MDMode ? 'Yes' : 'No (Master System - mode 4)',\n      },\n    ]);\n  } else if (register === 0x7) {\n    const values = getBackgroundColorValues(value);\n    r.data = r.data.concat([\n      {\n        key: 'Background Palette Row',\n        value: `0x${values.paletteLine}`,\n      },\n      {\n        key: 'Background Palette Color',\n        value: `0x${values.colorIndex}`,\n      },\n    ]);\n  } else if (register === 0xa) {\n    r.data = r.data.concat([\n      {\n        key: 'Number of scanlines between horizontal interrupts',\n        value: `0x${value.toString(16)}`,\n      },\n    ]);\n  } else if (register === 0xf) {\n    r.data = r.data.concat([\n      {\n        key: 'Increment value after each read/write to the data port',\n        value: `0x${value.toString(16)}`,\n      },\n    ]);\n  } else if (register === 0x13) {\n    const str = value.toString(16);\n    r.data = r.data.concat([\n      {\n        key: 'DMA Length (low bytes)',\n        value: `0x${str} (0x??${\n          '0'.repeat(Math.max(0, 2 - str.length)) + str\n        }) - final value is multiplied by 2 bytes.`,\n      },\n    ]);\n  } else if (register === 0x14) {\n    r.data = r.data.concat([\n      {\n        key: 'DMA Length (high bytes)',\n        value: `0x${value.toString(16)} (0x${value.toString(\n          16,\n        )}??) - final value is multiplied by 2 bytes.`,\n      },\n    ]);\n  } else if (register === 0x15) {\n    const str = value.toString(16);\n    r.data = r.data.concat([\n      {\n        key: 'DMA Source (low bytes)',\n        value: `0x${str} (0x????${\n          '0'.repeat(Math.max(0, 2 - str.length)) + str\n        }) - final value is multiplied by 2 bytes.`,\n      },\n    ]);\n  } else if (register === 0x16) {\n    const str = value.toString(16);\n    r.data = r.data.concat([\n      {\n        key: 'DMA Source (middle bytes)',\n        value: `0x${str} (0x??${\n          '0'.repeat(Math.max(0, 2 - str.length)) + str\n        }??) - final value is multiplied by 2 bytes.`,\n      },\n    ]);\n  } else if (register === 0x17) {\n    const values = getDMASource3Values(value);\n    r.data = r.data.concat([\n      {\n        key: 'DMA Source (high bytes)',\n        value: `0x${values.highBytes.toString(\n          16,\n        )} (0x${values.highBytes.toString(\n          16,\n        )}????) - final value is multiplied by 2 bytes.`,\n      },\n      {\n        key: 'DMA Operation',\n        value: `0x${DMAOpStrings[values.DMAOp]}`,\n      },\n    ]);\n  }\n  return r;\n}\n","import React, { ChangeEvent, useState } from 'react';\nimport { Alert, Col, Form, Row } from 'react-bootstrap';\nimport { interpretControlOperation, OperationResult } from '../../utils/vdp';\nimport { AnalysisPrint } from './AnalysisPrint';\nimport { getAddressOpAnalysis, getRegisterOpAnalysis } from './VDPAnalysis';\n\nexport function ControlOp() {\n  const [opcodeText, setOpcodeText] = useState('0x0');\n  function onOpcodeChange(ev: ChangeEvent<HTMLInputElement>) {\n    setOpcodeText(ev.currentTarget.value);\n  }\n  const opcode = parseInt(opcodeText);\n  let result: OperationResult = { operations: [] };\n  let error = '';\n  try {\n    result = interpretControlOperation(opcode);\n  } catch (e) {\n    error = e.message;\n  }\n\n  let elements;\n  if (!error) {\n    if (result.isRegisterOp) {\n      elements = (\n        <Row>\n          {result.operations.map((v) => (\n            <Col>\n              <AnalysisPrint data={getRegisterOpAnalysis(v)} />\n            </Col>\n          ))}\n        </Row>\n      );\n    } else {\n      elements = (\n        <AnalysisPrint data={getAddressOpAnalysis(result.operations[0])} />\n      );\n    }\n  }\n  return (\n    <>\n      <div>\n        <Form.Group>\n          <Form.Label>\n            Type number sent to address <mark>0xc00004</mark> (Control Port of\n            VDP) to see what operation it does. Start with &quot;0x&quot; for\n            hexadecimal. It works with words (2 Bytes) and longwords (4 bytes).\n          </Form.Label>\n\n          <Col>\n            <Form.Control\n              className=\"text-center\"\n              placeholder=\"0x0\"\n              value={opcodeText}\n              onChange={onOpcodeChange}\n            />\n          </Col>\n        </Form.Group>\n        {error ? <Alert className=\"text-center\">{error}</Alert> : null}\n        {elements}\n      </div>\n    </>\n  );\n}\n","import React from 'react';\nimport { ControlOp } from './features/vdp-analysis/ControlOp';\n\nexport function VDPControl() {\n  return (\n    <>\n      <ControlOp />\n      <p className=\"small pt-4\">\n        Technical explanations can be found on:\n        <ul>\n          <li>\n            <a\n              href=\"https://segaretro.org/Sega_Mega_Drive/VDP_registers\"\n              target=\"_blank\"\n              rel=\"noreferrer\"\n            >\n              Sega Mega Drive/VDP registers (Sega Retro)\n            </a>\n          </li>\n          <li>\n            <a\n              href=\"https://segaretro.org/Sega_Mega_Drive/VDP_general_usage\"\n              target=\"_blank\"\n              rel=\"noreferrer\"\n            >\n              Sega Mega Drive/VDP general usage (Sega Retro)\n            </a>\n          </li>\n        </ul>\n      </p>\n    </>\n  );\n}\n","import React from 'react';\nimport './App.css';\nimport {\n  HashRouter as Router,\n  Switch,\n  Route,\n  NavLink,\n  Redirect,\n} from 'react-router-dom';\nimport { Col, Container, Nav, Row } from 'react-bootstrap';\nimport { ColorsPage } from './ColorsPage';\nimport { VDPControl } from './VDPControl';\n\nfunction App(): JSX.Element {\n  return (\n    <Container>\n      <Row>\n        <Col>\n          <h1>Mega Tools</h1>\n          <p className=\"pb-2\">\n            Some tools to help learning Sega Genesis/Mega Drive development.\n          </p>\n        </Col>\n        <Col xs=\"auto\">\n          <a\n            href=\"https://github.com/StealthC/mega-tools\"\n            target=\"_blank\"\n            rel=\"noreferrer\"\n          >\n            View on Github\n          </a>\n        </Col>\n      </Row>\n\n      <Router>\n        <Nav variant=\"tabs\">\n          <Nav.Item>\n            <Nav.Link as={NavLink} to=\"/colors\">\n              SMD Colors\n            </Nav.Link>\n          </Nav.Item>\n          <Nav.Item>\n            <Nav.Link as={NavLink} to=\"/vdpcontrol\">\n              VDP Control Port\n            </Nav.Link>\n          </Nav.Item>\n        </Nav>\n        <div className=\"py-4\">\n          <Switch>\n            <Route path=\"/colors\">\n              <ColorsPage />\n            </Route>\n            <Route path=\"/vdpcontrol\">\n              <VDPControl />\n            </Route>\n            <Route path=\"/\">\n              <Redirect to=\"/colors\" />\n            </Route>\n          </Switch>\n        </div>\n      </Router>\n\n      <p className=\"pt-4 text-center small\">\n        If you like this project and want to help me to create more,{' '}\n        <a\n          href=\"https://www.patreon.com/stealthc\"\n          target=\"_blank\"\n          rel=\"noreferrer\"\n        >\n          please consider being my patron\n        </a>\n        .\n      </p>\n    </Container>\n  );\n}\n\nexport default App;\n","// A mock function to mimic making an async request for data\nexport function fetchCount(amount = 1) {\n  return new Promise<{ data: number }>((resolve) =>\n    setTimeout(() => resolve({ data: amount }), 500),\n  );\n}\n","import { createAsyncThunk, createSlice, PayloadAction } from '@reduxjs/toolkit';\nimport { RootState, AppThunk } from '../../app/store';\nimport { fetchCount } from './counterAPI';\n\nexport interface CounterState {\n  value: number;\n  status: 'idle' | 'loading' | 'failed';\n}\n\nconst initialState: CounterState = {\n  value: 0,\n  status: 'idle',\n};\n\n// The function below is called a thunk and allows us to perform async logic. It\n// can be dispatched like a regular action: `dispatch(incrementAsync(10))`. This\n// will call the thunk with the `dispatch` function as the first argument. Async\n// code can then be executed and other actions can be dispatched. Thunks are\n// typically used to make async requests.\nexport const incrementAsync = createAsyncThunk(\n  'counter/fetchCount',\n  async (amount: number) => {\n    const response = await fetchCount(amount);\n    // The value we return becomes the `fulfilled` action payload\n    return response.data;\n  },\n);\n\nexport const counterSlice = createSlice({\n  name: 'counter',\n  initialState,\n  // The `reducers` field lets us define reducers and generate associated actions\n  reducers: {\n    increment: (state) => {\n      // Redux Toolkit allows us to write \"mutating\" logic in reducers. It\n      // doesn't actually mutate the state because it uses the Immer library,\n      // which detects changes to a \"draft state\" and produces a brand new\n      // immutable state based off those changes\n      state.value += 1;\n    },\n    decrement: (state) => {\n      state.value -= 1;\n    },\n    // Use the PayloadAction type to declare the contents of `action.payload`\n    incrementByAmount: (state, action: PayloadAction<number>) => {\n      state.value += action.payload;\n    },\n  },\n  // The `extraReducers` field lets the slice handle actions defined elsewhere,\n  // including actions generated by createAsyncThunk or in other slices.\n  extraReducers: (builder) => {\n    builder\n      .addCase(incrementAsync.pending, (state) => {\n        state.status = 'loading';\n      })\n      .addCase(incrementAsync.fulfilled, (state, action) => {\n        state.status = 'idle';\n        state.value += action.payload;\n      });\n  },\n});\n\nexport const { increment, decrement, incrementByAmount } = counterSlice.actions;\n\n// The function below is called a selector and allows us to select a value from\n// the state. Selectors can also be defined inline where they're used instead of\n// in the slice file. For example: `useSelector((state: RootState) => state.counter.value)`\nexport const selectCount = (state: RootState) => state.counter.value;\n\n// We can also write thunks by hand, which may contain both sync and async logic.\n// Here's an example of conditionally dispatching actions based on current state.\nexport const incrementIfOdd =\n  (amount: number): AppThunk =>\n  (dispatch, getState) => {\n    const currentValue = selectCount(getState());\n    if (currentValue % 2 === 1) {\n      dispatch(incrementByAmount(amount));\n    }\n  };\n\nexport default counterSlice.reducer;\n","import { configureStore, ThunkAction, Action } from '@reduxjs/toolkit';\nimport counterReducer from '../features/counter/counterSlice';\nimport paletteReducer from '../features/palette/paletteSlice';\n\nexport const store = configureStore({\n  reducer: {\n    counter: counterReducer,\n    palette: paletteReducer,\n  },\n});\n\nexport type AppDispatch = typeof store.dispatch;\nexport type RootState = ReturnType<typeof store.getState>;\nexport type AppThunk<ReturnType = void> = ThunkAction<\n  ReturnType,\n  RootState,\n  unknown,\n  Action<string>\n>;\n","/* eslint-disable @typescript-eslint/explicit-module-boundary-types */\n/* eslint-disable no-console */\n/* eslint-disable @typescript-eslint/no-use-before-define */\n// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/,\n    ),\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA',\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.',\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.',\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport { Provider } from 'react-redux';\nimport App from './App';\nimport { store } from './app/store';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}